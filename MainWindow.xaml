<Window x:Class="AGMessenger.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="FB-Messenger"
        Width="1200" Height="800"
        MinWidth="400" MinHeight="300"
        WindowStartupLocation="CenterScreen"
        Closing="Window_Closing"
        StateChanged="Window_StateChanged"
        SizeChanged="Window_SizeChanged"
        LocationChanged="Window_LocationChanged"
        Loaded="Window_Loaded">
    
    <Window.Resources>
        <!-- Menu style -->
        <Style x:Key="MenuItemStyle" TargetType="MenuItem">
            <Setter Property="Foreground" Value="#333"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Menu Bar -->
        <Menu Grid.Row="0" Background="#f5f5f5">
            <MenuItem Header="JaRoD-CENTER" Style="{StaticResource MenuItemStyle}">
                <MenuItem Header="O firmie" Click="About_Click"/>
                <MenuItem Header="ðŸ“Š Statystyki uÅ¼ycia" Click="Stats_Click"/>
                <MenuItem Header="ðŸ’¬ WyÅ›lij opiniÄ™ / ZgÅ‚oÅ› bÅ‚Ä…d" Click="Feedback_Click"/>
                <Separator/>
                <MenuItem Header="Zamknij" Click="Exit_Click" InputGestureText="Alt+F4"/>
            </MenuItem>
            <MenuItem Header="Widok" Style="{StaticResource MenuItemStyle}">
                <MenuItem Header="OdÅ›wieÅ¼" Click="Refresh_Click" InputGestureText="Ctrl+R"/>
                <MenuItem Header="OdÅ›wieÅ¼ (F5)" Click="Refresh_Click" InputGestureText="F5"/>
                <Separator/>
                <MenuItem Header="NarzÄ™dzia deweloperskie" Click="DevTools_Click" InputGestureText="F12"/>
            </MenuItem>
        </Menu>

        <!-- WebView2 Control -->
        <wv2:WebView2 x:Name="WebView" Grid.Row="1"/>
        
        <!-- Error overlay (hidden by default) -->
        <Grid x:Name="ErrorOverlay" Grid.Row="1" Visibility="Collapsed" Background="#1a1a1a">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="Brak poÅ‚Ä…czenia" FontSize="32" Foreground="White" 
                           HorizontalAlignment="Center" FontWeight="Bold"/>
                <TextBlock Text="Nie moÅ¼na poÅ‚Ä…czyÄ‡ siÄ™ z Messengerem." FontSize="14" 
                           Foreground="#aaa" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                <TextBlock Text="SprawdÅº poÅ‚Ä…czenie internetowe i naciÅ›nij Ctrl+R aby sprÃ³bowaÄ‡ ponownie." 
                           FontSize="12" Foreground="#666" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                <Button Content="SprÃ³buj ponownie" Width="150" Height="35" Margin="0,20,0,0"
                        Click="RetryConnection_Click" Background="#0099ff" Foreground="White"
                        BorderThickness="0" Cursor="Hand"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
